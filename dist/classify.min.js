define(["require","exports","module","jquery","underscore"],function(t,n,o,e,r){var i={},e=e||jQuery,c=function(){},u=function(t){var n;return"parent"in t?(n=t.parent,"_innerConstructor"in n||(n._innerConstructor=c),n):!1},p=function(t){r.isArray(t)||(t=[t]);var n=u(t[0]);return n?(t.unshift(n),p(t)):t};return i.newClass=function(n){var o=function(n){var o=this,i=p(this);r.each(i,function(t){t._innerConstructor.call(o,n)});var c=c;if("ko"in window)c=window.ko;else if(r.isUndefined(c))try{c=t("knockout")}catch(u){}r.isUndefined(c)||r.isUndefined(o._ko_computeds)||e.each(o._ko_computeds,function(t,n){var e,i;if(r.isFunction(n))e=n;else{if(!(r.keys(n).length>0))return;"function"in n&&(e=n["function"]),"subscription"in n&&(i=n.subscription)}var u=function(){var t;try{t=e.call(o,arguments)}catch(n){return void 0}return t};o[t]=c.computed(u,o),r.isFunction(i)&&o[t].subscribe(function(){i.apply(o,arguments)})})};"parent"in n&&(o.prototype=Object.create(n.parent.prototype),o.prototype.parent=Object.create(n.parent.prototype)),o.prototype.constructor=o,"function"==typeof n.constructor&&(o.prototype._innerConstructor=n.constructor);var i={};return"computeds"in n&&(i=n.computeds),"parent"in o.prototype&&"_ko_computeds"in o.prototype.parent&&(i=r.extend(o.prototype.parent._ko_computeds,i)),o.prototype._ko_computeds=i,o.addMethod=function(t,n){this.prototype[t]=n},o.prototype.addMethod=o.addMethod,"methods"in n&&e.each(n.methods,function(t,n){o.addMethod(t,n)}),o},i.IInterfacify=i.newClass({constructor:function(t){},methods:{applyTo:function(t){var n=this;e.each(r.keys(n),function(o,e){e.match(/^_/)||"applyTo"===e||(t.prototype[e]=n[e])})}}}),i.Version="0.0.42",i});